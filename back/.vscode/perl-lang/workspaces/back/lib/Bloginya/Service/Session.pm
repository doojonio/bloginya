{"version":5,"vars":[{"containerName":"Bloginya::Service::Session::Mojo","kind":2,"line":1,"name":"Base"},{"kind":12,"line":3,"name":"db"},{"line":4,"name":"redis","kind":12},{"line":6,"name":"async","kind":12},{"detail":"($self,$user_id,$ip,$user_agent)","range":{"end":{"character":9999,"line":15},"start":{"line":6,"character":0}},"containerName":"main::","signature":{"documentation":"","label":"create_session_p($self,$user_id,$ip,$user_agent)","parameters":[{"label":"$self"},{"label":"$user_id"},{"label":"$ip"},{"label":"$user_agent"}]},"kind":12,"definition":"sub","name":"create_session_p","line":6,"children":[{"localvar":"my","line":7,"name":"$sid","containerName":"create_session_p","definition":"my","kind":13},{"containerName":"create_session_p","kind":13,"name":"$self","line":8},{"containerName":"create_session_p","kind":12,"line":8,"name":"db"},{"line":8,"name":"insert_p","kind":12,"containerName":"create_session_p"},{"line":8,"name":"$user_id","kind":13,"containerName":"create_session_p"},{"containerName":"create_session_p","kind":13,"name":"$ip","line":8},{"containerName":"create_session_p","kind":13,"line":8,"name":"$user_agent"},{"line":9,"name":"hash","containerName":"create_session_p","kind":12},{"name":"$self","line":12,"containerName":"create_session_p","kind":13},{"kind":12,"containerName":"create_session_p","line":12,"name":"redis"},{"line":12,"name":"set_p","containerName":"create_session_p","kind":12},{"containerName":"create_session_p","kind":13,"line":12,"name":"$sid"},{"line":12,"name":"$user_id","kind":13,"containerName":"create_session_p"},{"name":"$sid","line":14,"kind":13,"containerName":"create_session_p"}]},{"kind":12,"line":8,"name":"await"},{"name":"user_id","line":8,"kind":12},{"line":8,"name":"ip","kind":12},{"kind":12,"line":8,"name":"app"},{"kind":12,"name":"returning","line":8},{"kind":12,"line":9,"name":"id"},{"line":12,"name":"await","kind":12},{"line":17,"name":"async","kind":12},{"detail":"($self,$sid)","kind":12,"definition":"sub","range":{"start":{"line":17,"character":0},"end":{"character":9999,"line":35}},"containerName":"main::","signature":{"parameters":[{"label":"$self"},{"label":"$sid"}],"label":"uid_by_sid_p($self,$sid)","documentation":""},"name":"uid_by_sid_p","children":[{"name":"$uid","line":20,"localvar":"my","containerName":"uid_by_sid_p","kind":13,"definition":"my"},{"kind":13,"containerName":"uid_by_sid_p","line":20,"name":"$self"},{"kind":12,"containerName":"uid_by_sid_p","name":"redis","line":20},{"kind":12,"containerName":"uid_by_sid_p","name":"get_p","line":20},{"name":"$sid","line":20,"containerName":"uid_by_sid_p","kind":13},{"containerName":"uid_by_sid_p","kind":13,"name":"$uid","line":21},{"containerName":"uid_by_sid_p","kind":13,"name":"$uid","line":21},{"kind":13,"containerName":"uid_by_sid_p","line":24,"name":"$uid"},{"containerName":"uid_by_sid_p","kind":13,"name":"$self","line":24},{"name":"db","line":24,"kind":12,"containerName":"uid_by_sid_p"},{"line":24,"name":"query_p","containerName":"uid_by_sid_p","kind":12},{"containerName":"uid_by_sid_p","kind":13,"name":"$sid","line":28},{"containerName":"uid_by_sid_p","kind":12,"line":28,"name":"hash"},{"kind":13,"containerName":"uid_by_sid_p","line":29,"name":"$uid"},{"name":"$self","line":32,"kind":13,"containerName":"uid_by_sid_p"},{"name":"redis","line":32,"containerName":"uid_by_sid_p","kind":12},{"line":32,"name":"set_p","kind":12,"containerName":"uid_by_sid_p"},{"name":"$sid","line":32,"containerName":"uid_by_sid_p","kind":13},{"name":"$uid","line":32,"containerName":"uid_by_sid_p","kind":13},{"name":"$uid","line":34,"kind":13,"containerName":"uid_by_sid_p"}],"line":17},{"name":"await","line":20,"kind":12},{"line":24,"name":"await","kind":12},{"line":28,"name":"id","kind":12},{"line":32,"name":"await","kind":12},{"name":"async","line":37,"kind":12},{"detail":"($self,$sid,$ip,$user_agent)","range":{"end":{"line":40,"character":9999},"start":{"line":37,"character":0}},"containerName":"main::","signature":{"documentation":"","label":"update_ip_ua_p($self,$sid,$ip,$user_agent)","parameters":[{"label":"$self"},{"label":"$sid"},{"label":"$ip"},{"label":"$user_agent"}]},"kind":12,"definition":"sub","name":"update_ip_ua_p","children":[{"kind":13,"definition":"my","containerName":"update_ip_ua_p","name":"$res","localvar":"my","line":38},{"line":38,"name":"$self","kind":13,"containerName":"update_ip_ua_p"},{"kind":12,"containerName":"update_ip_ua_p","name":"db","line":38},{"name":"update_p","line":38,"containerName":"update_ip_ua_p","kind":12},{"kind":13,"containerName":"update_ip_ua_p","line":38,"name":"$ip"},{"line":38,"name":"$user_agent","containerName":"update_ip_ua_p","kind":13},{"kind":13,"containerName":"update_ip_ua_p","name":"$sid","line":38},{"name":"$res","line":39,"containerName":"update_ip_ua_p","kind":13},{"name":"rows","line":39,"containerName":"update_ip_ua_p","kind":12}],"line":37},{"kind":12,"line":38,"name":"await"},{"kind":12,"name":"ip","line":38},{"kind":12,"name":"app","line":38},{"line":38,"name":"id","kind":12},{"name":"async","line":43,"kind":12},{"kind":12,"definition":"sub","containerName":"main::","range":{"end":{"line":52,"character":9999},"start":{"line":43,"character":0}},"signature":{"label":"is_suspicious_activity_p($self,$ip,$user_agent)","documentation":" Todo use","parameters":[{"label":"$self"},{"label":"$ip"},{"label":"$user_agent"}]},"name":"is_suspicious_activity_p","line":43,"children":[{"definition":"my","kind":13,"containerName":"is_suspicious_activity_p","line":44,"localvar":"my","name":"$result"},{"containerName":"is_suspicious_activity_p","kind":13,"name":"$self","line":44},{"name":"db","line":44,"kind":12,"containerName":"is_suspicious_activity_p"},{"kind":12,"containerName":"is_suspicious_activity_p","name":"query_p","line":44},{"name":"$ip","line":46,"containerName":"is_suspicious_activity_p","kind":13},{"kind":13,"containerName":"is_suspicious_activity_p","line":47,"name":"$user_agent"},{"localvar":"my","line":48,"name":"$count","containerName":"is_suspicious_activity_p","definition":"my","kind":13},{"name":"$result","line":48,"kind":13,"containerName":"is_suspicious_activity_p"},{"containerName":"is_suspicious_activity_p","kind":12,"line":48,"name":"hash"},{"line":51,"name":"$count","kind":13,"containerName":"is_suspicious_activity_p"}],"detail":"($self,$ip,$user_agent)"},{"name":"await","line":44,"kind":12},{"name":"count","line":48,"kind":12},{"line":55,"name":"async","kind":12},{"children":[{"definition":"my","kind":13,"containerName":"is_sid_hijacked_p","line":56,"localvar":"my","name":"$result"},{"line":56,"name":"$self","containerName":"is_sid_hijacked_p","kind":13},{"kind":12,"containerName":"is_sid_hijacked_p","name":"db","line":56},{"line":56,"name":"query_p","kind":12,"containerName":"is_sid_hijacked_p"},{"containerName":"is_sid_hijacked_p","kind":13,"name":"$sid","line":58},{"name":"$user_agent","line":59,"containerName":"is_sid_hijacked_p","kind":13},{"containerName":"is_sid_hijacked_p","kind":13,"definition":"my","name":"$count","line":60,"localvar":"my"},{"line":60,"name":"$result","kind":13,"containerName":"is_sid_hijacked_p"},{"kind":12,"containerName":"is_sid_hijacked_p","line":60,"name":"hash"},{"name":"$count","line":63,"kind":13,"containerName":"is_sid_hijacked_p"}],"line":55,"name":"is_sid_hijacked_p","signature":{"parameters":[{"label":"$self"},{"label":"$sid"},{"label":"$user_agent"}],"label":"is_sid_hijacked_p($self,$sid,$user_agent)","documentation":" TODO use"},"containerName":"main::","range":{"start":{"line":55,"character":0},"end":{"line":64,"character":9999}},"definition":"sub","kind":12,"detail":"($self,$sid,$user_agent)"},{"kind":12,"line":56,"name":"await"},{"line":60,"name":"count","kind":12}]}